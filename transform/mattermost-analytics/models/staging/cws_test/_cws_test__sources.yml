version: 2

sources:
  - name: cws_test
    database: 'RAW'
    schema: cws_test
    loader: Stitch
    description: |
      Customer Web Server test database replica.
    tags:
      - stitch

    tables:
      - name: license
        description: Contains test licenses.
        columns:
          - name: id
            description: The license ID
            tests:
              - unique
              - not_null
          - name: createdat
            description: Date that this record was created at.
          - name: ispending
          - name: payload
            description: |
              Base64 encoded base license payload. The base64 decoded string contains a JSON document, followed by 
              some random bytes.
          - name: subscriptionid
            description: | 
              The Stripe subscription ID this license maps to. In case it's not linked to a Stripe subscription, it is
              a string in the form `non-subscription license for <company name> <an id>`.
          ## Stitch columns
          - name: _sdc_batched_at
          - name: _sdc_received_at
          - name: _sdc_sequence
          - name: _sdc_table_version
