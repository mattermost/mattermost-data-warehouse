version: 2

models:
  - name: stg_portal_prod__tracks
    description: |
      Reconstructed `tracks` table using custom properties expected to be in the events.

    columns:
      - name: event_id
        description: The event's id.
      - name: event_table
        description: The name of the event table.
      - name: event_name
        description: The name of the event.
      - name: category
        description: The event's category.
      - name: user_id
        description: The ID of the user that sent the event.
      - name: received_at
        description: Timestamp registered by RudderStack when the event was ingested (received).

  - name: stg_portal_prod__identifies
    description: |
      Contains mapping from rudder user_id to portal user_id
    
    columns:
      - name: user_id
        description: The ID of the user that sent the event.
      - name: portal_customer_id
        description:  Portal customer id for the user
      - name: context_traits_portal_customer_id
        description:  Duplicate of portal_customer_id ingested via context traits, required since sometimes portal_customer_id is null
      - name: timestamp
        description:  Timestamp value associated with event.
      
  - name: stg_portal_prod__pageview_create_workspace
    description: |
      Contains rudder data coming from `pageview_create_workspace`.

    columns:
      - name: pageview_id
        description:  The pageview ID of the event.
      - name: user_id
        description:  The ID of the user that sent the event.
      - name: event_table
        description:  The event table that records the event request.
      - name: timestamp
        description:  Timestamp value associated with event.