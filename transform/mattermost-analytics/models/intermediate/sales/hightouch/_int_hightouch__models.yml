version: 2

models:
  - name: int_onprem_subscriptions
    description: |
      Reconstructed `onprem_subscriptions` table using Stripe events.

    columns:  
      - name: opportunity_type 
      - name: order_type 
      - name: ownerid 
      - name: stagename 
      - name: opportunity_name 
      - name: subscription_id 
      - name: purchase_order_number 
      - name: stripe_customer_id
        tests:
          - not_null
      - name: license_id 
      - name: edition 
      - name: product 
      - name: sku 
      - name: charge 
      - name: subscription 
      - name: invoice_number 
      - name: stripe_invoice_number 
      - name: invoice_id
        tests:
          - not_null
          - unique      
      - name: invoice_created_at 
      - name: email 
      - name: domain 
      - name: customer_name 
      - name: line1 
      - name: line2 
      - name: postal_code 
      - name: city 
      - name: state 
      - name: country 
      - name: customer_full_name 
      - name: total 
      - name: subtotal 
      - name: invoice_row_num 
      - name: invoice_quantity 
      - name: previous_quantity 
      - name: seats_purchased